<div class="page-wrapper">
  <div class="container">
    <div class="page-main">
      <div class="page-title">
        <h1 class="color-title">Đổi mật khẩu</h1>
      </div>
      <div class="page-content">
        <div class="update-info">
          <form class="form" [formGroup]="valForm" name="loginForm" role="form" class="form form-validate" (submit)="submit($event, valForm.value)">
            <div class="form-field">
              <label for="">Mật khẩu cũ<span class="require">*</span></label>
              <input type="password" formControlName="oldPassword" autocomplete="off" />
              <p class="text-danger form-field-message" *ngIf="hasError('oldPassword', 'required')">Vui lòng nhập mật khẩu cũ</p>
            </div>
            <div class="form-field">
              <label for="">Mật khẩu mới <span class="require">*</span></label>
              <input type="password" formControlName="password" autocomplete="off" placeholder="Mật khẩu ít nhất 8 ký tự" />
              <p class="text-danger form-field-message" *ngIf="hasError('password', 'required')">Vui lòng nhập mật khẩu</p>
              <p class="text-danger form-field-message" *ngIf="hasError('password', 'minlength')">Mật khẩu ít nhất 8 ký tự</p>
              <p class="text-danger form-field-message" *ngIf="hasError('password', 'pattern')">Mật khẩu phải chứa một kí tự viết hoa và một kí tự đặc biệt</p>
            </div>
            <div class="form-field">
              <label for="">Nhập lại mật khẩu<span class="require">*</span></label>
              <input type="password" formControlName="confirmPassword" autocomplete="off" placeholder="Mật khẩu ít nhất 8 ký tự"/>
              <p class="text-danger form-field-message" *ngIf="hasError('confirmPassword', 'required')">Vui lòng nhập lại mật khẩu</p>
              <p class="text-danger form-field-message" *ngIf="!hasError('confirmPassword', 'required') && isErrorConfirmPw">Xác nhận mật khẩu không đúng</p>
            </div>
            <div class="row">
              <div class="col-lg-6">
                <ngx-recaptcha2 #captchaElem class="captcha"
                  [siteKey]="siteKey"
                  [useGlobalDomain]="false"
                  size="normal"
                  hl="vi"
                  theme="light"
                  type="image"
                  formControlName="recaptcha">
                </ngx-recaptcha2> 
              </div>
              <div class="col-lg-1"></div>
              <div class="col-lg-5 p-2">
                <button class="btn btn-primary w-100" type="submit" [disabled]="isLoading$ | async">Cập nhật</button>
              </div>
            </div>
            <div class="form-actions">
              
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
